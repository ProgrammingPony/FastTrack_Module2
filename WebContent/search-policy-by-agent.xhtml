<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"      
      xmlns:f="http://java.sun.com/jsf/core"
      >
    <h:body>

    	<ui:composition template="jsf-templates/template.xhtml">

			<ui:define name="title">
				Contact Us
			</ui:define>
			
			<ui:define name="css">
			</ui:define>

			<ui:define name="content">
				
				<h:form>
					<h:panelGrid>
						<h:panelGroup>
							<h:outputLabel for="agentId">Agent ID</h:outputLabel>
			    			<h:selectOneMenu id="agentId" name="agentId" value="#{viewCustomersMarkedToAgent.agentId}">
								<f:selectItems value="#{viewCustomersMarkedToAgent.agentIds}"></f:selectItems>
							</h:selectOneMenu>
							<h:commandButton action="#{viewCustomersMarkedToAgent.updateCustomerList()}" value="List Customers"></h:commandButton>
		    			</h:panelGroup>
		    			
		    			<h:panelGroup rendered="#{not empty viewCustomersMarkedToAgent.customerIds}">
		    				<h:outputLabel for="customerId">Customer ID</h:outputLabel>
							<h:selectOneMenu id="customerId" name="customerId" value="#{viewCustomersMarkedToAgent.customerId}">
								<f:selectItems value="#{viewCustomersMarkedToAgent.customerIds}"></f:selectItems>
							</h:selectOneMenu>
							<h:commandButton action="#{viewCustomersMarkedToAgent.updatePolicyList()}" value="List Customer's Policies"></h:commandButton>
		    			</h:panelGroup>
		    			
		    			<h:panelGroup rendered="#{not empty viewCustomersMarkedToAgent.policyNames}">
		    				<h:outputLabel for="policyName">Policy</h:outputLabel>
							<h:selectOneMenu id="policyName" name="policyName" value="#{viewCustomersMarkedToAgent.policyName}">
								<f:selectItems value="#{viewCustomersMarkedToAgent.policyNames}"></f:selectItems>
							</h:selectOneMenu>
							<h:commandButton action="#{viewCustomersMarkedToAgent.viewPolicyDetails()}" value="View Policy Details"></h:commandButton>
		    			</h:panelGroup>
		    			
		    			
	    			</h:panelGrid>
	    			
	    		</h:form>
	    		
	    		<h:panelGrid rendered="#{viewCustomersMarkedToAgent.policyId  gt -1}">
	    			CustomerID:#{viewCustomersMarkedToAgent.customerId}
	    			PolicyID:#{viewCustomersMarkedToAgent.policyId}
	    			PolicyName:#{viewCustomersMarkedToAgent.policyName}
	    			Tenure:#{viewCustomersMarkedToAgent.tenure} Years
	    			Sum Assured: $#{viewCustomersMarkedToAgent.sumAssured}
	    			Premium :$#{viewCustomersMarkedToAgent.premium}
	    		</h:panelGrid>
	    		
    			
    		</ui:define>

    	</ui:composition>

    </h:body>

</html>